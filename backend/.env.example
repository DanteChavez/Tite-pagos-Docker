# =========================================
# CONFIGURACIÓN DE ENTORNO - PAYMENT API
# =========================================

# Entorno de ejecución
NODE_ENV=development

# Puerto del servidor
PORT=6666

# =========================================
# CORS - Origenes permitidos
# =========================================
# En desarrollo, incluir el frontend local
# En producción, especificar solo dominios autorizados
ALLOWED_ORIGINS=https://localhost:6060,http://localhost:6060

# =========================================
# BASE DE DATOS - MySQL
# =========================================
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=
DB_DATABASE=tite

# =========================================
# SEGURIDAD - JWT
# =========================================
JWT_SECRET=EstoEsUnSecretoSuperSeguroParaElCursoGPI_CambialoEnProduccion
JWT_EXPIRES_IN=1d

# =========================================
# SEGURIDAD - TLS/HTTPS (CA1)
# =========================================
TLS_MIN_VERSION=TLSv1.2
TLS_MAX_VERSION=TLSv1.3

# =========================================
# SEGURIDAD - Rate Limiting (CA4)
# =========================================
# Máximo de intentos fallidos antes de bloqueo temporal
MAX_FAILED_ATTEMPTS=3

# Tiempo de bloqueo en horas después de exceder intentos
SESSION_TIMEOUT_HOURS=1

# Duración de token de confirmación en minutos
CONFIRMATION_TOKEN_EXPIRY_MINUTES=5

# Throttling global (requests por minuto por IP)
THROTTLE_TTL=60000
THROTTLE_LIMIT=10

# =========================================
# SEGURIDAD - Logging y Auditoría (CA5)
# =========================================
LOG_LEVEL=info
LOG_MAX_FILES=10
LOG_MAX_SIZE=5242880

# =========================================
# SEGURIDAD - CORS
# =========================================
# Origenes permitidos (separados por coma)
ALLOWED_ORIGINS=https://localhost:5173,https://app.example.com

# =========================================
# PROVEEDORES DE PAGO
# =========================================

# Stripe
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_API_VERSION=2023-10-16

# PayPal
PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_paypal_client_secret_here
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=your_webhook_id_here

# Webpay (Transbank)
WEBPAY_COMMERCE_CODE=your_commerce_code_here
WEBPAY_API_KEY=your_api_key_here
WEBPAY_ENVIRONMENT=integration

# =========================================
# SERVICIOS EXTERNOS
# =========================================

# Servicio de verificación de identidad (para CVV y otros)
IDENTITY_VERIFICATION_URL=https://api.identity-service.com
IDENTITY_VERIFICATION_API_KEY=your_identity_api_key_here

# Servicio de notificaciones
NOTIFICATION_SERVICE_URL=https://api.notifications.com
NOTIFICATION_API_KEY=your_notification_api_key_here

# =========================================
# MONITOREO Y ALERTAS
# =========================================

# Email para alertas de seguridad
SECURITY_ALERT_EMAIL=security@example.com

# Webhook para alertas críticas (Slack, Discord, etc.)
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# =========================================
# NOTAS DE SEGURIDAD
# =========================================
# 
# ⚠️ IMPORTANTE:
# 
# 1. NUNCA commitear este archivo con valores reales en Git
# 2. En producción, usar secretos gestionados (AWS Secrets Manager, Azure Key Vault, etc.)
# 3. Rotar secretos regularmente (cada 90 días mínimo)
# 4. Los valores de ejemplo deben ser reemplazados con credenciales reales
# 5. Mantener permisos restrictivos en este archivo (chmod 600)
# 
# CUMPLIMIENTO PCI-DSS:
# - Ningún dato de tarjeta debe estar en este archivo
# - Los secrets deben estar encriptados en reposo
# - Implementar auditoría de acceso a secrets
# 
# =========================================
